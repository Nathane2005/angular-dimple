angular.module("angular-dimple",["angular-dimple.line-graph","angular-dimple.bar-graph","angular-dimple.x","angular-dimple.y","angular-dimple.line","angular-dimple.bar"]).constant("MODULE_VERSION","0.0.1").value("defaults",{foo:"bar"}),angular.module("angular-dimple.bar-graph",[]).directive("barGraph",[function(){return{restrict:"E",replace:!0,scope:{data:"="},require:["barGraph"],transclude:!0,compile:function(a){return a.append('<div class="dimple-bar-graph" id="bar-graph"></div>'),{post:function(a,b,c,d,e){var f=d[0];a.$watch("data",function(a){a&&f.setData()}),e(a,function(a){b.append(a)})}}},controller:["$scope","$element","$attrs",function(a,b,c){var d,e,f=dimple.newSvg("#bar-graph",c.width,c.height);d=new dimple.chart(f),this.getChart=function(){return d},this.setData=function(){d.data=a.data,y=d.addMeasureAxis("y","Unit Sales"),e=d.addCategoryAxis("x","Month"),e.addOrderRule("Date")},this.draw=function(){d.draw()}}]}}]),angular.module("angular-dimple.bar",[]).directive("bar",[function(){return{restrict:"E",replace:!0,require:["bar","^barGraph"],controller:["$scope","$element","$attrs",function(){}],link:function(a,b,c,d){function e(){var b;bar=g.addSeries([c.field],dimple.plot.bar),null!==a.data&&void 0!==c.value&&(b=dimple.filterData(a.data,c.field,[c.value]),bar.data=b),f.draw()}var f=d[1],g=(d[0],f.getChart());a.$watch("data",function(a){a&&e()})}}}]),angular.module("angular-dimple.line-graph",[]).directive("lineGraph",[function(){return{restrict:"E",replace:!0,scope:{data:"="},require:["lineGraph"],transclude:!0,compile:function(a){return a.append('<div class="dimple-line-graph" id="line-graph"></div>'),{post:function(a,b,c,d,e){var f=d[0];a.$watch("data",function(a){a&&f.setData()}),e(a,function(a){b.append(a)})}}},controller:["$scope","$element","$attrs",function(a,b,c){var d,e=dimple.newSvg("#line-graph",c.width,c.height);d=new dimple.chart(e),this.getChart=function(){return d},this.setData=function(){d.data=a.data},this.draw=function(){d.draw()}}]}}]),angular.module("angular-dimple.line",[]).directive("line",[function(){return{restrict:"E",replace:!0,require:["line","^lineGraph"],controller:["$scope","$element","$attrs",function(){}],link:function(a,b,c,d){function e(){var b;line=g.addSeries([c.field],dimple.plot.line),null!==a.data&&void 0!==c.value&&(b=dimple.filterData(a.data,c.field,[c.value]),line.data=b),line.lineMarkers=!0,f.draw()}var f=d[1],g=(d[0],f.getChart());a.$watch("data",function(a){a&&e()})}}}]),angular.module("angular-dimple.x",[]).directive("x",[function(){return{restrict:"E",replace:!0,require:["x","^?lineGraph","^?barGraph"],controller:["$scope","$element","$attrs",function(){}],link:function(a,b,c,d){function e(){x="Measure"==c.type?g.addMeasureAxis("x",c.field):g.addCategoryAxis("x",c.field),c.orderBy&&x.addOrderRule(c.orderBy),c.title&&"null"!==c.title?x.title=c.title:"null"==c.title&&(x.title=null)}var f=d[1]||controllers[2],g=f.getChart();a.$watch("data",function(a){a&&e()})}}}]),angular.module("angular-dimple.y",[]).directive("y",[function(){return{restrict:"E",replace:!0,require:["y","^?lineGraph","^?barGraph"],controller:["$scope","$element","$attrs",function(){}],link:function(a,b,c,d){function e(){y="Category"==c.type?g.addCategoryAxis("y",c.field):g.addMeasureAxis("y",c.field),c.orderBy&&y.addOrderRule(c.orderBy),c.title&&"null"!==c.title?y.title=c.title:"null"==c.title&&(y.title=null)}var f=d[1]||controllers[2];console.log(f);var g=f.getChart();a.$watch("data",function(a){a&&e()})}}}]);